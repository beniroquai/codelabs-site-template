"use strict";(self.webpackChunkuc_2_docs=self.webpackChunkuc_2_docs||[]).push([[7974],{3905:(e,t,a)=>{a.d(t,{Zo:()=>p,kt:()=>m});var n=a(67294);function i(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){i(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function s(e,t){if(null==e)return{};var a,n,i=function(e,t){if(null==e)return{};var a,n,i={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(i[a]=e[a]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(i[a]=e[a])}return i}var l=n.createContext({}),c=function(e){var t=n.useContext(l),a=t;return e&&(a="function"==typeof e?e(t):o(o({},t),e)),a},p=function(e){var t=c(e.components);return n.createElement(l.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},h=n.forwardRef((function(e,t){var a=e.components,i=e.mdxType,r=e.originalType,l=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),h=c(a),m=i,d=h["".concat(l,".").concat(m)]||h[m]||u[m]||r;return a?n.createElement(d,o(o({ref:t},p),{},{components:a})):n.createElement(d,o({ref:t},p))}));function m(e,t){var a=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var r=a.length,o=new Array(r);o[0]=h;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:i,o[1]=s;for(var c=2;c<r;c++)o[c]=a[c];return n.createElement.apply(null,o)}return n.createElement.apply(null,a)}h.displayName="MDXCreateElement"},21963:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>l,contentTitle:()=>o,default:()=>u,frontMatter:()=>r,metadata:()=>s,toc:()=>c});var n=a(87462),i=(a(67294),a(3905));const r={id:"DPCmicroscopy",title:"Differential Phase Contrast Microscopy"},o="Differential Phase Contrast",s={unversionedId:"Toolboxes/DiscoveryPhaseMicroscopy/DPCmicroscopy",id:"Toolboxes/DiscoveryPhaseMicroscopy/DPCmicroscopy",title:"Differential Phase Contrast Microscopy",description:"Differential Phase Contrast Microscopy is a Computational Microscopy technique that uses partial coherent sources to illuminate a sample at various angles (oblique illumination). The angle determines the illumination NA which contributes to the final resolution. Throughout this tutorial we are going to revise the theory and implementation of DPC using OpenUC2! The tutorial will explain how to build your own DPC setup and we provide with the reconstruction algorithm given the physical parameters (based on Waller's Lab reconstruction algorithm).",source:"@site/docs/01_Toolboxes/07_DiscoveryPhaseMicroscopy/DPC.md",sourceDirName:"01_Toolboxes/07_DiscoveryPhaseMicroscopy",slug:"/Toolboxes/DiscoveryPhaseMicroscopy/DPCmicroscopy",permalink:"/docs/Toolboxes/DiscoveryPhaseMicroscopy/DPCmicroscopy",draft:!1,tags:[],version:"current",frontMatter:{id:"DPCmicroscopy",title:"Differential Phase Contrast Microscopy"},sidebar:"tutorialSidebar",previous:{title:"Phase Microscopy",permalink:"/docs/Toolboxes/DiscoveryPhaseMicroscopy/"},next:{title:"Unpack the openUC2 Z-Microscope",permalink:"/docs/Investigator/ZMicroscope/UpackZMicroscope"}},l={},c=[{value:"Weak Object Transfer Function",id:"weak-object-transfer-function",level:2},{value:"Condenser lens",id:"condenser-lens",level:2},{value:"Tutorial: DPC setup",id:"tutorial-dpc-setup",level:2},{value:"Materials needed:",id:"materials-needed",level:3},{value:"Diagram:",id:"diagram",level:3},{value:"Instructions for assembling the DPC setup:",id:"instructions-for-assembling-the-dpc-setup",level:3},{value:"DPC Images",id:"dpc-images",level:2},{value:"Reconstruction algorithm (Waller-Lab)",id:"reconstruction-algorithm-waller-lab",level:2}],p={toc:c};function u(e){let{components:t,...r}=e;return(0,i.kt)("wrapper",(0,n.Z)({},p,r,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"differential-phase-contrast"},"Differential Phase Contrast"),(0,i.kt)("p",null,"Differential Phase Contrast Microscopy is a Computational Microscopy technique that uses partial coherent sources to illuminate a sample at various angles (oblique illumination). The angle determines the illumination NA which contributes to the final resolution. Throughout this tutorial we are going to revise the theory and implementation of DPC using OpenUC2! The tutorial will explain how to build your own DPC setup and we provide with the reconstruction algorithm given the physical parameters (based on Waller's Lab reconstruction algorithm)."),(0,i.kt)("h2",{id:"weak-object-transfer-function"},"Weak Object Transfer Function"),(0,i.kt)("h2",{id:"condenser-lens"},"Condenser lens"),(0,i.kt)("h2",{id:"tutorial-dpc-setup"},"Tutorial: DPC setup"),(0,i.kt)("h3",{id:"materials-needed"},"Materials needed:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"LED array (4x4)"),(0,i.kt)("li",{parentName:"ul"},"Hikrobot Camera (MV-CE060-10UC) with USB cable (",(0,i.kt)("a",{parentName:"li",href:"Camera_Software_tutorial.md"},"Hikrobot Camera Software installation"),")"),(0,i.kt)("li",{parentName:"ul"},"ESP32 Module"),(0,i.kt)("li",{parentName:"ul"},"XYZ sample mount stage"),(0,i.kt)("li",{parentName:"ul"},"Microscope Objective (0.25 ",(0,i.kt)("em",{parentName:"li"},"NA")," x10 )"),(0,i.kt)("li",{parentName:"ul"},"Motorized Linear stage"),(0,i.kt)("li",{parentName:"ul"},"Non-Kinematic Mirror"),(0,i.kt)("li",{parentName:"ul"},"Positive lens with 50 mm focal length"),(0,i.kt)("li",{parentName:"ul"},"Five empty cubes"),(0,i.kt)("li",{parentName:"ul"},"15 base plates"),(0,i.kt)("li",{parentName:"ul"},"Tube lens (with camera adapter)")),(0,i.kt)("p",null,(0,i.kt)("img",{src:a(24473).Z,width:"2401",height:"1833"})),(0,i.kt)("h3",{id:"diagram"},"Diagram:"),(0,i.kt)("p",null,(0,i.kt)("img",{src:a(17216).Z,width:"2672",height:"2163"})),(0,i.kt)("h3",{id:"instructions-for-assembling-the-dpc-setup"},"Instructions for assembling the DPC setup:"),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Step 1: Download Imswitch and the ESP32 microcontroller drivers")),(0,i.kt)("p",null,"Once the drivers are installed you can visit (",(0,i.kt)("a",{parentName:"p",href:"https://youseetoo.github.io/indexWebSerialTest.html"},"youseetoo.github.io"),") to test the LED array pattern sequences."),(0,i.kt)("p",null,(0,i.kt)("img",{src:a(89587).Z,width:"4624",height:"2080"})),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Step 2: Mount the LED array")),(0,i.kt)("p",null,"Mount the LED array into the LED array base plate and insert it in a cube as shown."),(0,i.kt)("p",null,(0,i.kt)("img",{src:a(76217).Z,width:"2328",height:"1599"}),"\n",(0,i.kt)("img",{src:a(33428).Z,width:"4624",height:"2080"})),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Step 3: Build the DPC setup")),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Substep 1")),(0,i.kt)("p",null,"Build the camera module as shown. It comprises of a tube lens and a Hikrobot Camera. Adjust the screw which binds the camera to the camera base plate to get the right distance between the camera and the tube lens.\n",(0,i.kt)("img",{src:a(99211).Z,width:"4624",height:"2080"})),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Substep 2")),(0,i.kt)("p",null,"Insert the non-kinematic mirror, the microscope objective in the fixed mount and the XYZ stage accordingly.\n",(0,i.kt)("img",{src:a(38427).Z,width:"4624",height:"2080"})),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Substep 3")),(0,i.kt)("p",null,"Build the illumination module which comprises of the LED array and the condenser lens as shown."),(0,i.kt)("p",null,(0,i.kt)("img",{src:a(35099).Z,width:"301",height:"270"})),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Substep 4")),(0,i.kt)("p",null,"Finally, on top of the module built in substep 2 add the illimination module."),(0,i.kt)("p",null,(0,i.kt)("img",{src:a(89175).Z,width:"243",height:"362"})),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Step 4: Adjust the Source-sample distance")),(0,i.kt)("p",null,"First, adjust the distance between the LED array and the condenser lens by placing them a focal distance (",(0,i.kt)("em",{parentName:"p"},"f")," = 50 mm) apart. This assures the plane wave illumination. Then, adjust the XYZ to the central positions. Adjust the Microscope objective position so that it matches roughly the working distance."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Step 5: Focus on the sample")),(0,i.kt)("p",null," Use Imswitch to turn one of the central LEDs, place a test sample to focus on it by coarse moving the microscope objective and finely tuning the height using the XYZ stage. Once it is in focus, adjust the distance from the condenser to the sample to be the focal length (",(0,i.kt)("em",{parentName:"p"},"f")," = 50 mm).  In this geometry the LED array dimensions are near the match illumination condition. Hence, some LEDs illuminate at the objective ",(0,i.kt)("em",{parentName:"p"},"NA")," (",(0,i.kt)("em",{parentName:"p"},"NAi")," = ",(0,i.kt)("em",{parentName:"p"},"NAobj"),")."),(0,i.kt)("p",null,(0,i.kt)("em",{parentName:"p"},"Note:")," If your sample is transparent be careful not to crash the sample with the microscope objective! For more information about this experimental setup look at: ",(0,i.kt)("a",{parentName:"p",href:"http://dx.doi.org/10.1364/OL.39.001326"},"3D differential phase-contrast microscopy with computational illumination using an LED array"),"."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Step 6: Run the ImDPC experiment!")),(0,i.kt)("p",null,"Once you have focused on the sample, adjust the desired FoV. Now you are set. Click ",(0,i.kt)("em",{parentName:"p"},"Start")," on the DPC widget!"),(0,i.kt)("p",null,"Congrats! You have created a DPC microscope with OpenUC2!"),(0,i.kt)("p",null,(0,i.kt)("img",{src:a(98787).Z,width:"4624",height:"2080"})),(0,i.kt)("h2",{id:"dpc-images"},"DPC Images"),(0,i.kt)("p",null,"Using the reconstruction algorithm we can retrieve the phase of the sample."),(0,i.kt)("p",null,"First test with the OpenUC2-DPC setup:"),(0,i.kt)("p",null,(0,i.kt)("img",{src:a(43273).Z,width:"1024",height:"683"})),(0,i.kt)("p",null,"In the animation you can compare the contrast that we can get with brightfield illumination and the DPC reconstruction generated by the four images taken with the half circle illumination."),(0,i.kt)("p",null,(0,i.kt)("img",{src:a(16790).Z,width:"630",height:"426"}),"\nTaking a series of DPC images at different focal planes."),(0,i.kt)("p",null,(0,i.kt)("img",{src:a(43596).Z,width:"370",height:"372"}),"\nCropped DPC image captured with 0.17 NA microscope objective with 4x magnification."),(0,i.kt)("h2",{id:"reconstruction-algorithm-waller-lab"},"Reconstruction algorithm (Waller-Lab)"),(0,i.kt)("p",null,"The reconstruction algorithm works with the development of the Weak Object Transfer Function (WOTF). Using the code implemented by Waller (",(0,i.kt)("a",{parentName:"p",href:"https://github.com/Waller-Lab/DPC"},"Waller-Lab/DPC"),"), we are able to reconstruct the absorption and phase of the samples. Here we explain each step and implementation of the code using Imswitch."))}u.isMDXComponent=!0},43273:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/Brightfield_test_cells_10x0.25-ANIMATION-92cccaf47327715121a33871022ec14a.gif"},99211:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/Camera_module-384182d0a773d147d35bacbe719701a7.jpg"},17216:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/DPC_diagram-73c36fa8d5db18756b5cc3ea6ae7cd8d.png"},98787:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/DPC_final_setup-095cb7a602bee47e84a9e8075c6dc7b4.jpg"},24473:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/DPC_setup-e58cd9f4e164fb97e69928c7f2cfabe9.png"},38427:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/DPC_setup_step_1-dd19b20c4dfe621ff912a600eed6b0de.jpg"},35099:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/DPC_setup_step_2-dbd8a20038269b6091f86fbf978a8fb6.jpg"},89175:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/DPC_setup_step_3-260d85eb48af6825761f4251fa62b2d7.jpg"},89587:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/ESP32-5015ccf8ba6bb1ef1c6c575d15ea929e.png"},33428:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/LED_array_insert-1d65ae3ddad6beed680213d1709734d6.jpg"},76217:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/LED_base-d91956214ccc22e4b5e89b50bd125d29.png"},43596:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/dpc_4x_0.17NA-56e64c4946c48ceab6266196d8e9ea14.gif"},16790:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/focusing_dpc_animation-395150b9ee89814e897fd3baf4aca867.gif"}}]);